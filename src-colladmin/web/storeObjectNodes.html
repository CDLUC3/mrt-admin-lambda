<html>
  <head>
    <meta charset="utf-8"/>
    <script	src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.css"></link>
    <link rel="stylesheet" type="text/css" href="api-table.css"/>
    <script type="text/javascript" src="coll-lambda.base.js"></script>
    <script type="text/javascript" src="api-table.js"></script>
    <script type="text/javascript" src="storage.js"></script>
    <script src="sorttable.js" type="text/javascript"></script>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
  </head>
  <body>
    <div class="form-body">
    <h1>Manage Object Storage Nodes for Object <a href="{{ADMINTOOL_HOME}}?path=filelist&id={{ID}}">{{ID}}</a></h1>
    {{{COLLADMINNAV}}}
    <div>
      <ul>
        <li>
          <a href="{{COLLADMIN_ROOT}}/web/storeObjects.html?mode=id&objlist={{ID}}">Object Actions</a>
        </li>
      </ul>
    </div>

    <table class="sortable results">
      <thead>
        <tr>
          <th>Role</th>
          <th>Node Num</th>
          <th>Node Name</th>
          <th>Access Mode</th>
          <th>Obj Created</th>
          <th>Replic Created</th>
          <th>Num Unverified</th>
          <th>Last Audited</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {{#OBJNODES}}
        <tr>
          <th>{{role}}</th>
          <td>{{number}}</td>
          <td>{{name}}</td>
          <td>{{access_mode}}</td>
          <td>{{created}}</td>
          <td>{{replicated}}</td>
          <td>{{unverified}}</td>
          <td>{{last_verified}}</td>
          <td>
            <button 
              data-id="{{ID}}"
              data-node-id="{{nodeid}}"
              title="Re-run all audits for this node."
              class="colladmin storage-force-audit-for-object"
            >Re-audit All Files {{#IS_PROD}}ðŸš§{{/IS_PROD}}</button>
            <button 
              data-id="{{ID}}"
              data-node-id="{{nodeid}}"
              title="Re-run the unverified audits for this node."
              class="colladmin storage-rerun-audit-for-object"
            >Re-audit Unverified {{#IS_PROD}}ðŸš§{{/IS_PROD}}</button>
            {{#secondary}}
            <button 
              data-ark="{{ARK}}"
              data-node-num="{{number}}"
              data-node-name="{{name}}"
              title="Delete a secondary copy of an object.  Cannot be run on the primary node."
              class="colladmin storage-del-object-from-node"
            >Delete Object from Node ðŸš§</button>
            {{/secondary}}
          </td>
        </tr>
        {{/OBJNODES}}
      </tbody>      
    </table>
    </div>
  </body>
</html>

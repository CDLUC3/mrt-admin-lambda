<html>
  <head>
    <meta charset="utf-8"/>
    <script	src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.css"></link>
    <link rel="stylesheet" type="text/css" href="api-table.css"/>
    <script type="text/javascript" src="coll-lambda.base.js"></script>
    <script type="text/javascript" src="api-table.js"></script>
    <script type="text/javascript" src="properties.js"></script>
    <script src="sorttable.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="form-body">
    {{#STORE_COLLS}}
    <h1>Manage Storage Nodes for a Collection</h1>
    {{/STORE_COLLS}}
    {{#STORE_COLL}}
    <h1>Manage Storage Nodes for {{COLL}}</h1>
    {{/STORE_COLL}}
    <p><a href="{{ADMINTOOL_HOME}}">Admin Tool Home</a> / <a href="{{COLLADMIN_ADMIN}}">CollAdmin Tool Home</a></p>
    <p><a href="https://cdluc3.github.io/mrt-doc/diagrams/store-admin-ui#manage-collection-nodes">Mock Up</a></p>
    <div>
      {{#STORE_COLLS}}
      <table class="sortable results">
        <thead>
          <tr>
            <th>Ark</th>
            <th>Name</th>
            <th>Mnemonic</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {{#COLLS}}
          <tr>
            <th>{{ark}}</th>
            <td>{{name}}</td>
            <td>{{mnemonic}}</td>
            <td><a href="?coll={{id}}">Manage Nodes</a></td>
          </tr>
          {{/COLLS}}
        </tbody>
      </table>
      {{/STORE_COLLS}}
      {{#STORE_COLL}}
      <div>
        <fieldset>
          <legend>Collection Ingest Processing Status</legend>
          <label>Ingest Paused?</label>
          <output id="ingest-status">{{ingest_paused}}</output>
          <input type="button" name="pause" value="Pause Ingest" disabled />
          <input type="button" name="unpause" value="Unpause Ingest" disabled/>
        </fieldset>
      </div>
      <h2>Storage Nodes for Collection</h2>
      <div>
        <table class="sortable results">
          <thead>
            <tr>
              <th>Role</th>
              <th>Number</th>
              <th>Node Name</th>
              <th>Count</th>
              <th>% Repl</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {{#NODES}}
            <tr>
              <th>{{role}}</th>
              <th>{{number}}</th>
              <td>{{name}}</td>
              <td>{{count}}</td>
              <td>{{percent}}</td>
              <td>
                <button>Re-Audit</button>
              </td>
            </tr>
            {{/NODES}}
          </tbody>
        </table>  
      </div>
      {{/STORE_COLL}}
    </div>
  </div>
  </body>
</html>

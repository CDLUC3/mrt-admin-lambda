<html>
  <head>
    <meta charset="utf-8"/>
    <script	src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.css"></link>
    <link rel="stylesheet" type="text/css" href="api-table.css"/>
    <script type="text/javascript" src="lambda.base.js"></script>
    <script type="text/javascript" src="api-table.js"></script>
    <script src="sorttable.js" type="text/javascript"></script>
  </head>
  <body>
    <h1>Merritt Admin Tool</h1>
    <p><a href="index.html">Home</a></p>
    <p class="buttons">
      <button onclick="$('tr.row').toggle()">Filter Totals/Details</button>
      <button onclick="$('tr.nodata').toggle()">Filter Data</button>
      <button onclick="$('tr.noflag').toggle()">Flagged Data</button>
      <button onclick="$('tr.total').toggle()">Totals On/Off</button>
      <button id="exportTable">Export CSV</button>
      <select id="bytes">
        <option value="1">Bytes</option>
        <option value="1000000">MB</option>
        <option value="1000000000">GB</option>
        <option value="1000000000000">TB</option>
      </select>
      <a id="exportJson" target="_blank">Download Json</a>
    </p>
    <div id="menu">

      <h2>Prototypes</h2>
      <p><a href="collAdmin.html">Collection Admin Screenshots</a></p>
 
      <h2>Understanding Merritt Content</h2>
      <ul>
        <li><a class="json" href="index.html?path=collections">File Counts by Collections</a></li>
        <li><a class="json" href="index.html?path=owners">File Counts by Owner</a></li>
        <li><a class="json" href="index.html?path=mimes">Mime Groups</a></li>
        <li><a class="json" href="index.html?path=filesize">File Size Distribution</a></li>
      </ul>

      <h2>Campus Invoices</h2>
      <ul>
        <li><a class="json" href="index.html?path=invoices&fy=2020">FY2020 Invoices</a></li>
        <li><a class="json" href="index.html?path=invoices&fy=2019">FY2019 Invoices</a></li>
        <li><a class="json" href="index.html?path=invoices&fy=2019&as_of=2020-01-01">FY2019 Invoices- Proj from Jan 1</a></li>
        <li><a class="json" href="index.html?path=invoices&fy=2018">FY2018 Invoices</a></li>
        <li><a class="json" href="index.html?path=invoices&fy=2017">FY2017 Invoices</a></li>
      </ul>

      <h2>Metadata Queries: Objects</h2>
      <ul>
        <li>
          <form action="index.html">
            Object(s) by Ark:
            <input name="ark" type="text" value="ark:/" size=40 title="Use a % as a wildcard search string"/>
            <input name="path" type="hidden" value="objects_by_ark"/>
            <input type="submit" value="Go!"/>
            <input type="button" onclick="javascript:document.location='ark.html';" value="Multiple Arks"/>
          </form>
        </li>
        <li>
          <form action="index.html">
            Object(s) by Title:
            <input name="title" type="text" value="" size=40 title="Use a % as a wildcard search string"/>
            <input name="path" type="hidden" value="objects_by_title"/>
            <input type="submit" value="Go!"/>
          </form>
        </li>
        <li>
          <form action="index.html">
            Object(s) by Author:
            <input name="author" type="text" value="" size=40 title="Use a % as a wildcard search string"/>
            <input name="path" type="hidden" value="objects_by_author"/>
            <input type="submit" value="Go!"/>
          </form>
        </li>
        <li>
          <form action="index.html">
            Object(s) by Local ID:
            <input name="localid" type="text" value="" size=40 title="Use a % as a wildcard search string"/>
            <input name="path" type="hidden" value="objects_by_local_id"/>
            <input type="submit" value="Go!"/>
            <input type="button" onclick="javascript:document.location='doi.html';" value="Multiple DOIs"/>
            <input type="button" onclick="javascript:document.location='localid.html';" value="Multiple Localids"/>
          </form>
        </li>
      </ul>

      <h2>Metadata Queries: Files</h2>
      <ul>
        <li>
          <form action="index.html">
            Object(s) by Filename:
            <input name="file" type="text" value="" size=60 title="Use a % as a wildcard search string"/>
            <br/>
            Collection (required for a performant query):
            <input name="coll" type="text" value="cdl_uc3" size=40 />
            <input name="path" type="hidden" value="files_by_name_coll"/>
            <input type="submit" value="Go!"/>
          </form>
        </li>
      </ul>

      <h2>Interesting Use Cases Content</h2>
      <ul>
        <li><a href="index.html?path=objects_large">Large Objects</a></li>
        <li><a href="index.html?path=objects_many_files">Objects with Many Files</a></li>
        <li><a href="index.html?path=count_objects">Object Counts by Owner and Collection</a></li>
      </ul>

      <h2>Ingest Use Cases Content</h2>
      <ul>
        <li><a href="index.html?path=recent_ingests">Recent Ingests</a></li>
        <li><a href="index.html?path=big_ingest&items=200&days=14">Big Ingests (200+) - Last 14 days</a></li>
      </ul>

      <h2>Queries by ingest date</h2>
      <ul>
        <li><a class="json" href="index.html?path=collections_by_time_count_producer">Producer Files Added by Date (All time)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_count">Files Added by Date (All time)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_size">File Size Added by Date (All time)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_size_cumulative">Cumulative File Size Added by Date (All time)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_count_producer&interval=days">Producer Files Added by Date (Last week)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_count&interval=days">Files Added by Date (Last week)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_size&interval=days">File Size Added by Date (Last week)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_count_producer&interval=weeks">Producer Files Added by Date (Last 4 weeks)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_count&interval=weeks">Files Added by Date (Last 4 weeks)</a></li>
        <li><a class="json" href="index.html?path=collections_by_time_size&interval=weeks">File Size Added by Date (Last 4 weeks)</a></li>
        <li><a class="json" href="index.html?path=objects_recent">Recent object updates by collection (object details)</a></li>
      </ul>

      <h2>Operational Information</h2>
      <ul>
        <li><a href="index.html?path=audit_status">Audit - Irregular Status</a></li>
        <li><a href="index.html?path=audit_status_time&unit=HOUR&count=-1">Audit Status - Last Hour</a></li>
        <li><a href="index.html?path=audit_oldest">Audit - Oldest Unprocessed Item</a></li>
        <li><a href="index.html?path=audit_size">Audit - Size of Queue</a></li>
       <li><a href="index.html?path=audit_processed_size&iterate=1">Audits processed + bytes over time</a></li>
        <li><a href="index.html?path=nodes">Storage Nodes</a></li>
        <li><a href="index.html?path=collnodes">Storage Nodes by Collection</a></li>
        <li><a href="index.html?path=wasabi">Wasabi Migration</a></li>
        <li><a href="index.html?path=replication_needed">Objects - Replication needed</a></li>
        <li><a href="index.html?path=replic_processed&iterate=1">Replic processed over time</a></li>
      </ul>

      <h2>System Consistency - In Progress</h2>
      <ul>
        <li><a href="index.html?path=con_primary">Collections with Non-standard Primary Nodes</a></li>
        <li><a href="index.html?path=con_secondary">Collections with Non-standard Secondary Nodes</a></li>
        <li><a href="index.html?path=con_objects&copies=1">Objects with 1 copy</a></li>
        <li><a href="index.html?path=con_objects&copies=2">Objects with 2 copies</a></li>
        <li><a href="index.html?path=con_objects&copies=4">Objects with 4 copies</a></li>
        <li><a href="index.html?path=con_files&copies=1">Files with 1 copy</a></li>
        <li><a href="index.html?path=con_files&copies=2">Files with 2 copies</a></li>
        <li><a href="index.html?path=con_files&copies=4">Files with 4 copies</a></li>
        <li><a href="index.html?path=con_no_audit">Files not in the audit table (too slow to run from web)</a></li>
        <li><a href="index.html?path=con_replic">Outstanding replication</a></li>
        <li><a href="index.html?path=object_mult_coll&limit=500">Objects linked to more than one collection</a></li>
        <li>Audit - Irregular Status</li>
        <li>Oldest Unprocessed Audit</li>
      </ul>

      <h2>Common Troubleshooting</h2>
      <ul>
        <li><a href="index.html?path=doi">DOI Ark Conflicts</a></li>
      </ul>


    </div>
    <div id="data">
      <div id="alternative">
        <ul style="display: none">
          <li>Alternative URL's go here</li>
        </ul>
      </div>
      <table id="data-table" class="sortable results"/>
    </div>
    <div id="in-progress-container">
      <div id="in-progress">
        <h2>Query in Progress</h2>
        <div id="iprogress">--</div>
      </div>
    </div>
    <script src="sorttable.js" type="text/javascript"></script>
  </body>
</html>
